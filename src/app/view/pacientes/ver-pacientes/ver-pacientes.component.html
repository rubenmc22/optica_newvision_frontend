<div class="container mt-4">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h4>ğŸ‘¨â€âš•ï¸ Pacientes</h4>
            <button class="btn btn-light btn-sm" (click)="openDynamicModal()">â• Agregar Paciente</button>
        </div>

        <div class="card-body">
            <!-- âœ… Tabla de pacientes -->
            <table class="table table-hover table-bordered">
                <thead class="bg-secondary text-white">
                    <tr>
                        <th>Nombre Completo</th>
                        <th>CÃ©dula</th>
                        <th>Edad</th>
                        <th>Fecha de Registro</th>
                        <th>Historial MÃ©dico</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let paciente of pacientesFiltrados()">
                        <td>{{ paciente.nombreCompleto }}</td>
                        <td>{{ paciente.cedula }}</td>
                        <td>{{ paciente.edad }}</td>
                        <td>{{ paciente.fechaRegistro }}</td>
                        <td>
                            <button class="btn btn-info btn-sm" (click)="verHistorias(paciente.id)">ğŸ“– Ver
                                Historias</button>
                        </td>
                        <td>
                            <button class="btn btn-warning btn-sm" (click)="editarPaciente(paciente.id)">âœ
                                Editar</button>
                            <button class="btn btn-danger btn-sm" (click)="eliminarPaciente(paciente.id)">ğŸ—‘
                                Eliminar</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- Modal de formulario dinÃ¡mico -->
<app-dynamic-modal [modalTitle]="'Agregar Nuevo Paciente'" [modalFields]="modalFields" [onSubmit]="addPaciente"
    [mostrarRedesSociales]="true">
</app-dynamic-modal>