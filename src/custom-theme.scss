@use '@angular/material' as mat;
@include mat.core();

// Define las paletas de colores utilizando las funciones correctas
$primary-palette: mat.m2-define-palette(mat.$m2-yellow-palette, A400, A100, A700);
$accent-palette: mat.m2-define-palette(mat.$m2-orange-palette);
$warn-palette: mat.m2-define-palette(mat.$m2-red-palette);

// Define el tema personalizado
$myapp-theme: mat.m2-define-light-theme((color: (primary: $primary-palette,
        accent: $accent-palette,
        warn: $warn-palette,
      )));

// Aplica el tema a la aplicación
@include mat.all-component-themes($myapp-theme);

// Exportar los colores principales de la paleta
$primary: mat.m2-get-color-from-palette($primary-palette, 'default');
$accent: mat.m2-get-color-from-palette($accent-palette, 'default');
$warn: mat.m2-get-color-from-palette($warn-palette, 'default');

/* Variables para colores y estilos comunes */
/* Variables globales en :root para estilos personalizados */
:root {
  // Colores principales
  --primary-color: #3a7bd5;
  --primary-color-dark: #005a9e;
  --primary-color-light: #5d9cff;
  --primary-color-rgb: 58, 123, 213;
  // --degradado-color: linear-gradient(135deg, var(--primary-color) 0%, #3E7CB1 100%); BACKGROUND VIEJO
  --degradado-color: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);

  /* Degradados suaves alternativos */
  --degradado-light: linear-gradient(135deg, #8ab5f0 0%, #a8c8f5 100%);
  --degradado-pastel: linear-gradient(135deg, #d6e6fc 0%, #e3eefd 100%);

  --placeholder-color: #94a3b8;
  --placeholder-focus: #cbd5e1;

  // Colores secundarios
  //--secondary-color-light: #eae9e9;
  // --secondary-color: #eae9e9;
  --secondary-color-light: #d1d1d6;
  --secondary-color: #f0f0f5;

  // Colores de UI
  --card-color: #f0f0f5;
  --formLabel-color: #333;
  --text-color: white;
  --border-color: var(--primary-color);
  --details-color: #FFC107;
  --success-color: #38a169;
  --font-color-form: #6c757d;

  // Variables de diseño
  --border-radius: 4px;
  --transition: all 0.3s ease;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

::ng-deep .ng-dropdown-panel-items.scroll-host {
  max-height: 120px !important; // aproximadamente para 3 ítems de ~50px cada uno
  overflow-y: auto !important;
}

::ng-deep .paciente-card ul {
  white-space: nowrap !important;
  overflow-x: auto !important;
}

//scroll
::ng-deep .ng-dropdown-panel .ng-dropdown-panel-items::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::ng-deep .ng-dropdown-panel .ng-dropdown-panel-items::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 4px;
}

::ng-deep .ng-dropdown-panel .ng-dropdown-panel-items::-webkit-scrollbar-thumb {
  background-color: rgba(0, 123, 255, 0.5);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: content-box;
  transition: background-color 0.3s ease;
}

::ng-deep .ng-dropdown-panel .ng-dropdown-panel-items::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 123, 255, 0.8);
}





/* Estilos comunes para campos de texto en formularios de login y registro */
.login-form-field .mat-mdc-notched-outline,
.register-form-field .mat-mdc-notched-outline,
.forgot-password-form-field .mat-mdc-notched-outline .login-form-field .mdc-notched-outline__leading,
.login-form-field .mdc-notched-outline__trailing,
.register-form-field .mdc-notched-outline__leading,
.register-form-field .mdc-notched-outline__trailing,
.forgot-password-form-field .mdc-notched-outline__leading,
.forgot-password-form-field .mdc-notched-outline__trailing,
.login-form-field .mdc-notched-outline__notch,
.register-form-field .mdc-notched-outline__notch,
.forgot-password-form-field .mdc-notched-outline__notch,
.forgot-password-form-field .mdc-notched-outline__notch {
  border-color: var(--border-color) !important;
  /* Borde amarillo con importancia */
}

/* Estilos para las etiquetas flotantes */
.login-form-field .mat-mdc-floating-label,
.register-form-field .mat-mdc-floating-label,
.forgot-password-form-field .mat-mdc-floating-label {
  color: var(--primary-color) !important;
  /* Color de etiqueta amarillo con importancia */
  background-color: transparent !important;
  /* Fondo para ocultar el borde detrás del label */
  padding: 0 4px;
  /* Añadir padding para mejorar la apariencia */
}

/* Ocultar la línea no deseada */
.mdc-notched-outline__leading {
  display: none !important;
  /* Ocultar línea con importancia */
}

/* Estilos para el contenedor del campo de texto */
.mat-mdc-text-field-wrapper {
  border-radius: var(--border-radius);
  padding-left: 10px;
  /* Añadir padding para evitar superposición de texto */
  transition: var(--transition);
  /* Añadir transición suave */
  border: none;
}

/* Estilos para el campo de texto cuando está en foco */
.mat-mdc-text-field-wrapper:focus-within,
.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix:focus-within {
  border-color: var(--border-color);
  /* Mantener borde amarillo cuando está en focus */
}

/* Asegurar que el infix no tenga bordes */
.mat-mdc-form-field-infix {
  border: none;
  /* Asegúrate de que esta propiedad no esté causando el problema */
}

/* ESTILOS PARA EL CAMPO DE EMAIL */
.forgot-password-form-field {

  .mdc-text-field__input {

    /* Placeholder INVISIBLE por defecto */
    &::placeholder {
      opacity: 0 !important;
      transition: opacity 0.2s ease;
    }

    /* Placeholder VISIBLE solo con foco */
    &:focus::placeholder {
      opacity: 1 !important;
      //  color: var(--secondary-color-color) !important;
    }
  }
}

.forgot-password-section {
  .mat-mdc-form-field-subscript-wrapper {
    .mat-mdc-form-field-error-wrapper {
      padding: 0 !important;
      left: -5px;
    }
  }
}

/* =============================================
   SCROLLBARS AZUL CLARO - APLICACIÓN COMPLETA
   ============================================= */

/* Scrollbars para toda la aplicación */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: #f8fafc;
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #87CEEB 0%, #4682B4 100%);
  border-radius: 6px;
  border: 2px solid #f8fafc;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #6ab0d6 0%, #3a6a8c 100%);
}

::-webkit-scrollbar-thumb:active {
  background: linear-gradient(135deg, #5a9cbf 0%, #2d5266 100%);
}

::-webkit-scrollbar-corner {
  background: #f8fafc;
}

/* Scrollbars específicos para modales */
.modal-body-moderno::-webkit-scrollbar,
.modal-content::-webkit-scrollbar {
  width: 10px;
}

.modal-body-moderno::-webkit-scrollbar-track,
.modal-content::-webkit-scrollbar-track {
  background: #ffffff;
  border-radius: 4px;
}

.modal-body-moderno::-webkit-scrollbar-thumb,
.modal-content::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #a6d8ff 0%, #6ab0d6 100%);
  border-radius: 4px;
  border: 2px solid #ffffff;
}

/* Scrollbars para paneles y cards */
.card-body-secundario::-webkit-scrollbar,
.card-body-detalle::-webkit-scrollbar,
.card-body-moderno::-webkit-scrollbar,
.panel-lateral::-webkit-scrollbar {
  width: 8px;
}

.card-body-secundario::-webkit-scrollbar-track,
.card-body-detalle::-webkit-scrollbar-track,
.card-body-moderno::-webkit-scrollbar-track,
.panel-lateral::-webkit-scrollbar-track {
  background: #f1f9ff;
  border-radius: 4px;
}

.card-body-secundario::-webkit-scrollbar-thumb,
.card-body-detalle::-webkit-scrollbar-thumb,
.card-body-moderno::-webkit-scrollbar-thumb,
.panel-lateral::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #b3e0ff 0%, #87CEEB 100%);
  border-radius: 4px;
  border: 1px solid #f1f9ff;
}

/* Scrollbars para tablas */
.table-responsive-moderna::-webkit-scrollbar,
.table-responsive::-webkit-scrollbar {
  height: 8px;
}

.table-responsive-moderna::-webkit-scrollbar-track,
.table-responsive::-webkit-scrollbar-track {
  background: #e6f3ff;
  border-radius: 4px;
  margin: 0 4px;
}

.table-responsive-moderna::-webkit-scrollbar-thumb,
.table-responsive::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, #87CEEB 0%, #6ab0d6 100%);
  border-radius: 4px;
}

/* Scrollbars para listas */
.lista-historias::-webkit-scrollbar,
.lista-pacientes::-webkit-scrollbar {
  width: 6px;
}

.lista-historias::-webkit-scrollbar-track,
.lista-pacientes::-webkit-scrollbar-track {
  background: #f0f8ff;
  border-radius: 3px;
}

.lista-historias::-webkit-scrollbar-thumb,
.lista-pacientes::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #add8e6 0%, #87CEEB 100%);
  border-radius: 3px;
}

/* Scrollbars para textareas y inputs largos */
textarea::-webkit-scrollbar,
.form-control-moderno::-webkit-scrollbar {
  width: 6px;
}

textarea::-webkit-scrollbar-track,
.form-control-moderno::-webkit-scrollbar-track {
  background: #f8fdff;
  border-radius: 3px;
}

textarea::-webkit-scrollbar-thumb,
.form-control-moderno::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #c1e3ff 0%, #87CEEB 100%);
  border-radius: 3px;
}

/* Scrollbars para navegadores que soportan Firefox */
@supports (scrollbar-color: auto) {
  * {
    scrollbar-color: #87CEEB #f8fafc;
    scrollbar-width: thin;
  }
  
  .modal-body-moderno,
  .modal-content {
    scrollbar-color: #a6d8ff #ffffff;
  }
  
  .card-body-secundario,
  .card-body-detalle,
  .card-body-moderno,
  .panel-lateral {
    scrollbar-color: #b3e0ff #f1f9ff;
  }
  
  .table-responsive-moderna,
  .table-responsive {
    scrollbar-color: #87CEEB #e6f3ff;
  }
  
  .lista-historias,
  .lista-pacientes {
    scrollbar-color: #add8e6 #f0f8ff;
  }
  
  textarea,
  .form-control-moderno {
    scrollbar-color: #c1e3ff #f8fdff;
  }
}

/* Scrollbars para elementos con overflow específico */
[class*="scroll"],
[class*="overflow"],
div[style*="overflow"],
div[style*="scroll"] {
  &::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: #f0f8ff;
    border-radius: 4px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #87CEEB 0%, #6ab0d6 100%);
    border-radius: 4px;
  }
}

/* Scrollbars para elementos del framework */
.ng-dropdown-panel::-webkit-scrollbar,
.ng-select-panel::-webkit-scrollbar {
  width: 6px;
}

.ng-dropdown-panel::-webkit-scrollbar-track,
.ng-select-panel::-webkit-scrollbar-track {
  background: #f8fdff;
  border-radius: 3px;
}

.ng-dropdown-panel::-webkit-scrollbar-thumb,
.ng-select-panel::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #b3e0ff 0%, #87CEEB 100%);
  border-radius: 3px;
}

/* Scrollbars para modales de Bootstrap */
.modal-dialog-scrollable .modal-body::-webkit-scrollbar {
  width: 10px;
}

.modal-dialog-scrollable .modal-body::-webkit-scrollbar-track {
  background: #ffffff;
  border-radius: 4px;
}

.modal-dialog-scrollable .modal-body::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #a6d8ff 0%, #6ab0d6 100%);
  border-radius: 4px;
  border: 2px solid #ffffff;
}

/* Scrollbars personalizados para elementos específicos de tu aplicación */
.historias-modernas ::-webkit-scrollbar {
  width: 10px;
}

.historias-modernas ::-webkit-scrollbar-track {
  background: #f8fafc;
  border-radius: 6px;
}

.historias-modernas ::-webkit-scrollbar-thumb {
    background: var(--degradado-pastel) !important;
  border-radius: 6px;
  border: 2px solid #f8fafc;
}

/* Asegurar que todos los elementos scrollables tengan el estilo */
html {
  scrollbar-color: #87CEEB #f8fafc;
}

body {
  scrollbar-width: thin;
  scrollbar-color: #87CEEB #f8fafc;
}

/* Clase utilitaria para aplicar scroll azul claro */
.scroll-azul-claro {
  scrollbar-color: #87CEEB #f8fafc !important;
  
  &::-webkit-scrollbar {
    width: 10px !important;
  }
  
  &::-webkit-scrollbar-track {
    background: #f8fafc !important;
    border-radius: 6px !important;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--degradado-pastel) !important;
    border-radius: 6px !important;
    border: 2px solid #f8fafc !important;
  }
}

/* Variantes de intensidad del azul */
.scroll-azul-suave {
  scrollbar-color: #b3e0ff #f0f8ff !important;
  
  &::-webkit-scrollbar-thumb {
    background: var(--degradado-color) !important; 
  }
}

.scroll-azul-intenso {
  scrollbar-color: #4682B4 #e6f3ff !important;
  
  &::-webkit-scrollbar-thumb {
    background: var(--degradado-color) !important; 
  }
}

/* Responsive - Scrollbars más delgados en móviles */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .modal-body-moderno::-webkit-scrollbar,
  .card-body-secundario::-webkit-scrollbar,
  .card-body-detalle::-webkit-scrollbar {
    width: 4px;
  }
  
  .table-responsive-moderna::-webkit-scrollbar,
  .table-responsive::-webkit-scrollbar {
    height: 4px;
  }
}

/* Animación suave al hacer hover en el scroll */
::-webkit-scrollbar-thumb {
  transition: all 0.3s ease;
}

/* Estados de foco para accesibilidad */
::-webkit-scrollbar-thumb:focus {
  outline: 2px solid #3498db;
  outline-offset: 2px;
}